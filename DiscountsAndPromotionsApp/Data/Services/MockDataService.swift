import Foundation

//    Отключил swiftlint для функции с моковыми данными ниже
//    swiftlint:disable function_body_length
final class MockDataService {
    static let shared = MockDataService()

    private var productsList = [Product]()

    private init() {}

    func getCategoriesList() -> [Category] {
        let categoriesList = [Category(name: "Продукты"),
                              Category(name: "Одежда и обувь"),
                              Category(name: "Для дома и сада"),
                              Category(name: "Косметика и гигиена"),
                              Category(name: "Для детей"),
                              Category(name: "Зоотовары"),
                              Category(name: "Авто"),
                              Category(name: "К празднику")]
        return categoriesList
    }

    func getProductsList() -> [Product] {
        let products = [Product(barcode: "",
                                name: "Томаты сливовидные",
                                description: "1 кг",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 3.0,
                                offers: [Offer(price: 150,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 290,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Салат Айсберг",
                                description: "1 шт.",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 4.0,
                                offers: [Offer(price: 90,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 150,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Тыква Баттернат",
                                description: "3 кг",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 5.0,
                                offers: [Offer(price: 40,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 100,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Капуста Брокколи",
                                description: "1 шт.",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 1.0,
                                offers: [Offer(price: 300,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 400,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Груша конференция",
                                description: "1 кг",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 2.0,
                                offers: [Offer(price: 220,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 280,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Апельсины",
                                description: "1 кг",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 0,
                                offers: [Offer(price: 120,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 200,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Картофель белый мытый",
                                description: "1 кг",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 1.5,
                                offers: [Offer(price: 40,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 100,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))]),
                        Product(barcode: "",
                                name: "Огурцы гладкие среднеплодные",
                                description: "1 кг",
                                category: Category(name: "Продукты"),
                                image: nil,
                                rating: 3.5,
                                offers: [Offer(price: 99.99,
                                               discount: nil,
                                               store: Store(name: "Пятерочка",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Ленина",
                                                                                    building: 15,
                                                                                    postalIndex: 117899),
                                                            chainStore: nil)),
                                         Offer(price: 200.20,
                                               discount: nil,
                                               store: Store(name: "Дикси",
                                                            image: nil,
                                                            location: StoreLocation(region: "Москва",
                                                                                    city: "Москва",
                                                                                    street: "Герасимова",
                                                                                    building: 10,
                                                                                    postalIndex: 117099),
                                                            chainStore: nil))])]
        self.productsList = products
        return products
    }

    func getStoresList() -> [Store] {
        var uniqueStores: [String: Store] = [:]

            for product in self.productsList {
                for offer in product.offers {
                    let store = offer.store
                    uniqueStores[store.name] = store
                }
            }

            return Array(uniqueStores.values)
    }
}
//    swiftlint:enable function_body_length
